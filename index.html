<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BSIT 2A-G2 Midterm Week Schedule</title>
  <link rel="icon" href="favicon.ico">
 <style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    color: #fff;
    overflow-y: auto;

    /* Background image */
    background: url("https://scontent.fcrk1-2.fna.fbcdn.net/v/t1.15752-9/494575577_1369841707602265_6420357234904583385_n.png?_nc_cat=108&ccb=1-7&_nc_sid=9f807c&_nc_eui2=AeFMksRVd-Url-IlIbiwYg3z46fh5fv9h47jp-Hl-_2HjvrxNyrRyHfxfmH2Wu5ge3TsaniDAdIFJyGjy2kGKEqc&_nc_ohc=cmKI2avQzEUQ7kNvwGdmA0H&_nc_oc=AdkBeASp9zEeGQ0gdMrJ62B3hQjgN6pDzSLOTgi-QsVecq45K3BdKZgX251IcdPGnFY&_nc_zt=23&_nc_ht=scontent.fcrk1-2.fna&oh=03_Q7cD3QFg2w8WuUvS7y0lbAXWW0S0WJGdQOz-yemR-dCip7jG9g&oe=68EB66EB") no-repeat center center fixed;
    background-size: cover;
  }

  /* Add a blur overlay */
  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.35);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 0;
  }

  /* Page title */
  .page-title {
    position: relative;
    z-index: 1;
    text-align: center;
    font-size: clamp(1.4rem, 2vw, 2rem);
    font-weight: bold;
    margin: 20px 0 30px;
    letter-spacing: 1px;
    padding: 10px 20px;
    border-radius: 16px;
    background: rgba(255, 255, 255, 0.12);
    border: 1px solid rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
    color: #fff;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
    max-width: 90%;
  }

  .container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    z-index: 1;
  }

  /* Weeks row layout */
  .week-row {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 25px;
    margin-bottom: 50px;
    width: 100%;
    max-width: 1300px;
  }

  /* Day containers */
  .day {
    background: rgba(255, 255, 255, 0.12);
    border-radius: 16px;
    padding: 16px;
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.25);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
    display: flex;
    flex-direction: column;
    gap: 15px; /* space between subject cards */
    align-items: stretch;
  }

  .day h2 {
    text-align: center;
    font-size: 1rem;
    margin: 0 0 8px 0;
    font-weight: bold;
    color: white;
  }

  /* Subject card styling */
  .subject-card {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    overflow: hidden;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    cursor: pointer;
    margin-bottom: 8px; /* extra spacing between stacked cards */
  }

  .subject-card:hover {
    transform: scale(1.02);
    box-shadow: 0 8px 22px rgba(255, 165, 0, 0.4);
  }

  .subject-header {
    padding: 10px;
    font-size: 0.9rem;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255, 255, 255, 0.15);
  }

  .subject-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.35s ease, padding 0.35s ease;
    padding: 0 10px;
    font-size: 0.8rem;
  }

  .subject-card.active .subject-content {
    max-height: 500px;
    padding: 10px;
  }

  .datetime, .course {
    font-size: 0.8rem;
    margin-bottom: 3px;
    opacity: 0.9;
  }

  .coverage {
    font-size: 0.8rem;
    opacity: 0.85;
    line-height: 1.4;
  }

  /* Smart chip style */
  .chip-link {
    padding: 3px 8px;
    margin-left: 6px;
    background: rgba(255, 165, 0, 0.2);
    border: 1px solid rgba(255, 165, 0, 0.6);
    border-radius: 16px;
    font-size: 0.7rem;
    color: #ffa500;
    text-decoration: none;
    transition: all 0.2s ease-in-out;
  }

  .chip-link:hover {
    background: rgba(255, 165, 0, 0.35);
    border-color: #ffa500;
    color: #fff;
  }

  /* Responsive layout */
  @media (max-width: 1000px) {
    .week-row {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 600px) {
    .week-row {
      grid-template-columns: 1fr;
    }
    .day h2 {
      font-size: 0.9rem;
    }
    .subject-header {
      font-size: 0.85rem;
    }
    .coverage {
      font-size: 0.75rem;
    }
  }

  /* Type badge (quiz/exam) */
.type-badge {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 2px 6px;
  border-radius: 12px;
}

.type-badge .circle {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

/* Quiz = red */
.type-quiz .circle {
  background: #ff4d4d;
}
.type-quiz {
  color: #ff4d4d;
}

/* Exam = orange */
.type-exam .circle {
  background: #ffa500;
}
.type-exam {
  color: #ffa500;
}

</style>


</head>
<body>
  <div class="container">
  <!-- Title -->
  <h1 class="page-title">BSIT 2A-G2 Midterm Week Schedule</h1>

  <!-- Dynamic schedule will be injected here -->
  <!--<div class="schedule" id="schedule-container"></div>-->
  <div id="schedule-container"></div>

</div>


<script>
  // Dropdown toggle for each subject card
  document.querySelectorAll('.subject-card').forEach(card => {
    card.querySelector('.subject-header').addEventListener('click', () => {
      card.classList.toggle('active');
    });
  });

  // https://docs.google.com/spreadsheets/d/e/2PACX-1vShKMzttAo5BBWs4B7QG-JpKDpOduW_6QRI7Fdbt501sIrG6pnPa4NlmXFkJFTvNV1fXUhA1IfRdlqW/pub?gid=0&single=true&output=tsv
</script>

<script>
  const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vShKMzttAo5BBWs4B7QG-JpKDpOduW_6QRI7Fdbt501sIrG6pnPa4NlmXFkJFTvNV1fXUhA1IfRdlqW/pub?gid=0&single=true&output=tsv";

  const weeks = [
    [
      { label: "Monday | Sept. 22", date: "Sept. 22" },
      { label: "Tuesday | Sept. 23", date: "Sept. 23" },
      { label: "Wednesday | Sept. 24", date: "Sept. 24" },
      { label: "Thursday | Sept. 25", date: "Sept. 25" },
      { label: "Friday | Sept. 26", date: "Sept. 26" }
    ],
    [
      { label: "Monday | Sept. 29", date: "Sept. 29" },
      { label: "Tuesday | Sept. 30", date: "Sept. 30" },
      { label: "Wednesday | Oct. 1", date: "Oct. 1" },
      { label: "Thursday | Oct. 2", date: "Oct. 2" },
      { label: "Friday | Oct. 3", date: "Oct. 3" }
    ]
  ];

  async function loadSchedule() {
    const response = await fetch(sheetUrl);
    const data = await response.text();

    // Parse TSV
    const rows = data.trim().split("\n").map(r => r.split("\t"));
    const headers = rows.shift();

    const scheduleContainer = document.getElementById("schedule-container");
    scheduleContainer.innerHTML = "";

    // Build weeks
    weeks.forEach(week => {
      const weekRow = document.createElement("div");
      weekRow.classList.add("week-row");

      week.forEach(dayObj => {
        const dayDiv = document.createElement("div");
        dayDiv.classList.add("day");
        dayDiv.setAttribute("data-date", dayObj.date);
        dayDiv.innerHTML = `<h2>${dayObj.label}</h2>`;
        weekRow.appendChild(dayDiv);
      });

      scheduleContainer.appendChild(weekRow);
    });

    // Place subjects
    rows.forEach(activity => {
      const subject = activity[headers.indexOf("Subject")]?.trim();
      const desc = activity[headers.indexOf("Description")]?.trim();
      const date = activity[headers.indexOf("Date")]?.trim();
      const time = activity[headers.indexOf("Time")]?.trim();
      const course = activity[headers.indexOf("Course")]?.trim();
      const coverage = activity[headers.indexOf("Coverage")]?.trim();
      const materials = activity[headers.indexOf("Materials Link")]?.trim();
      // Find header index safely
      const typeIndex = headers.findIndex(h => h.trim().toLowerCase() === "type");
      const type = typeIndex !== -1 ? activity[typeIndex]?.trim().toLowerCase() : "";

      const targetDay = document.querySelector(`.day[data-date="${date}"]`);

      if (targetDay) {
        const card = document.createElement("div");
        card.className = "subject-card";

        // Type badge
        let typeBadge = "";
        if (type === "quiz") {
          typeBadge = `<div class="type-badge type-quiz"><span class="circle"></span>Quiz</div>`;
        } else if (type === "exam") {
          typeBadge = `<div class="type-badge type-exam"><span class="circle"></span>Exam</div>`;
        }

        card.innerHTML = `
          <div class="subject-header">
            <span>${subject} ${desc ? `| ${desc}` : ""}</span>
            ${typeBadge}
          </div>
          <div class="subject-content">
            <div class="datetime">${date} | ${time}</div>
            <div class="course">${course}</div>
            <div class="coverage">
              <br>
              <ul>
                ${coverage.split(";").map(item => `<li>${item.trim()}</li>`).join("")}
              </ul>
            </div>
            ${materials ? `<div style="margin-top:10px;"><a href="${materials}" target="_blank" class="chip-link">Materials</a></div>` : ""}
          </div>
        `;

        targetDay.appendChild(card);

        // Toggle dropdown
        card.querySelector('.subject-header').addEventListener('click', () => {
          card.classList.toggle('active');
        });
      }
    });
  }

  loadSchedule();
</script>



</body>
</html>
